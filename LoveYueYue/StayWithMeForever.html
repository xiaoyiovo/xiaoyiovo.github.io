<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>å’Œæˆ‘æ°¸è¿œåœ¨ä¸€èµ·ï¼</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: "Segoe UI", Arial, sans-serif;
    background: #fff6f8;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  #main-img {
    width: 40vw;
    max-width: 200px;
    height: auto;
    object-fit: cover;
    border-radius: 12px;
    margin-bottom: 4vh;
    transition: 0.2s;
  }

  h1 {
    margin: 0 0 20px;
    font-size: clamp(20px, 5vw, 36px);
    max-width: 90vw;
    color: #ff4f8f;
    text-align: center;
    line-height: 1.4;
  }

  #buttons {
    display: flex;
    gap: 4vw;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    transition: all 0.5s ease;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: width 0.6s, height 0.6s, font-size 0.6s, opacity 0.6s;
    padding: 1vh 4vw;
    font-size: clamp(14px, 4vw, 20px);
  }

  #yes {
    background: #ff6fa2;
    color: #fff;
  }

  #no {
    background: #e0e0e0;
    color: #333;
  }

  /* ---------- å“åº”å¼ä¼˜åŒ– ---------- */
  @media (max-width: 480px) {
    h1 {
      font-size: 6vw;
    }

    #main-img {
      width: 60vw;
    }

    button {
      font-size: 4vw;
      min-width: 30vw;
    }
  }

  /* ---------- å¹³æ»‘ç»ˆå±€åŠ¨ç”» ---------- */
  /* å¹³æ»‘éšè—æŒ‰é’® */
  button.fading-out {
    opacity: 0;
    width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    font-size: 0 !important;
    border: none;
    transition: all 0.6s ease;
  }

/* å±…ä¸­æŒ‰é’®æ—¶ç§»é™¤é—´éš™ */
  #buttons.centered {
    justify-content: center;
    gap: 0;
    transition: all 0.6s ease;
  }

</style>
</head>
<body>

  <img id="main-img" src="img/default.png" alt="cute">
  <h1 id="question">æ‚¦æ‚¦å¯ä»¥æ°¸è¿œå’Œæˆ‘åœ¨ä¸€èµ·å—ï¼Ÿ</h1>

  <div id="buttons">
    <button id="yes">å¯ä»¥</button>
    <button id="no">ä¸å¯ä»¥</button>
  </div>

<script>
/* ----------- è½®æ¢ç´ æ ----------- */
const rotatingTexts = [
  "å†è€ƒè™‘ä¸€ä¸‹å˜›~",
  "åˆ«æ‹’ç»æˆ‘å•¦ï¼Œæˆ‘ä¼šä¼¤å¿ƒçš„ >_<",
  "çœŸçš„ä¸è¡Œå—ï¼ŸQAQ",
  "å¥½å•¦å¥½å•¦ï¼Œæˆ‘ç­‰ä½ å›å¿ƒè½¬æ„~",
  "ç‚¹å†å¤šä¹Ÿé€ƒä¸æ‰å“Ÿâ™ª",
  "ä½ ç‚¹çš„ä¸æ˜¯çœŸå¿ƒè¯å¯¹å§ï¼ŸğŸ¥º",
  "å†ç‚¹ä¸€æ¬¡å°±æ˜¯ç­”åº”å•¦ï¼",
  "ä½ èˆå¾—å—ï¼Ÿå‘œå‘œå‘œ~",
  "å°å¿ƒæˆ‘å“­ç»™ä½ çœ‹TAT",
  "æˆ‘æ˜¯è®¤çœŸçš„ï¼Œä¸è®¸æ‹’ç»æˆ‘ >_<",
  "ä½ ç‚¹ä¸å¯ä»¥çš„æ ·å­ï¼Œå¥½åå¥½å",
  "å“ªæœ‰äººè¿™æ ·æ¬ºè´Ÿå–œæ¬¢ä½ çš„äººå˜›ï¼",
  "ä½ å¿å¿ƒè®©æˆ‘å¤±æœ›å—â€¦",
  "åˆ«é—¹å•¦ï¼Œå¿«è¯´å¯ä»¥~",
  "ä½ å°±æ˜¯æƒ³ä¸€ç›´ç‚¹æ˜¯ä¸æ˜¯ï¼",
  "å˜´ä¸Šè¯´ä¸å¯ä»¥ï¼Œå¿ƒé‡Œå…¨æ˜¯æˆ‘å¯¹å§ï¼Ÿ",
  "åˆ«å˜´ç¡¬å•¦~",
  "ç›¯ç€æˆ‘çš„çœ¼ç›å†è¯´ä¸€æ¬¡ä¸å¯ä»¥ï¼Ÿä¸æ•¢å§~",
  "å·å·å‘Šè¯‰ä½ ï¼Œå†ç‚¹ä¸€æ¬¡å°±ç”Ÿæ°”äº†å“¦~",
  "ä¸ç­”åº”æˆ‘ï¼Œæˆ‘å°±ä¸èµ°äº†ï¼",
  "æˆ‘éƒ½å‡†å¤‡å¥½ä¸€èµ·è€äº†ä½ è¿˜åœ¨çŠ¹è±«ï¼",
  "ä½ å¿å¿ƒè®©ä¸€é¢—çœŸå¿ƒç¢æ‰å—ï¼Ÿ",
  "å†ä¸è¯´å¯ä»¥æˆ‘å°±èµ–ä¸Šä½ äº†ï¼",
  "åæ­£æˆ‘ä¼šä¸€ç›´ç­‰ä½ è¯´å¯ä»¥çš„ğŸ˜¤",
  "ä»Šå¤©è¯´ä¸å¯ä»¥ï¼Œæ˜å¤©æˆ‘è¿˜æ¥ï¼",
  "ç‚¹å†å¤šæ¬¡æˆ‘ä¹Ÿä¸ä¼šèµ°çš„~",
  "å†ç»™ä½ ä¸€æ¬¡æœºä¼šï¼Œè¯´å¯ä»¥å§ï¼",
  "ä¸è®¸å†è¯´ä¸å¯ä»¥äº†ï¼Œå°ç¬¨è›‹~",
  "å¿«è¯´å–œæ¬¢æˆ‘ï¼Œä¸ç„¶æˆ‘ç”Ÿé—·æ°”å•¦ï¼",
  "ä½ ä»¥ä¸ºä½ æœ‰æ‹’ç»çš„æƒåˆ©å—ï¼",
];
const rotatingImgs = [
  "img/wronged.png",
  "img/beg.png",
  "img/no.png",
  "img/really.png",
  "img/sad.png",
  "img/shock.png",
];

/* ----------- ç»ˆå±€ç´ æï¼ˆä¸å‚ä¸è½®æ¢ï¼‰ ----------- */
const finalImg = "img/angry.png";

/* ----------- å…ƒä»¶å¼•ç”¨ ----------- */
const mainImg  = document.getElementById("main-img");
const yesBtn   = document.getElementById("yes");
const noBtn    = document.getElementById("no");
const question = document.getElementById("question");
const buttons  = document.getElementById("buttons");

/* ----------- åˆå§‹ç»Ÿä¸€å°ºå¯¸ ----------- */
const orig = { w:150, h:54, font:20 };
[yesBtn, noBtn].forEach(b=>{
  b.style.width    = orig.w + "px";
  b.style.height   = orig.h + "px";
  b.style.fontSize = orig.font + "px";
  b.style.padding  = "0 28px";
});

/* ----------- çŠ¶æ€å˜é‡ ----------- */
let yesScale   = 1;   // â€œå¯ä»¥â€æ”¾å¤§å€æ•°
let noScale    = 1;   // â€œä¸å¯ä»¥â€ç¼©å°å€æ•°
let shrinkCnt  = 0;   // å·²ç¼©å°æ¬¡æ•°
const MAX_SHRINK = 4;

let clickCnt   = 0;   // ç‚¹å‡»æ¬¡æ•°
const MAX_CLICK = 30; // ç¬¬ 30 æ¬¡è§¦å‘ç»ˆå±€

/* ----------- äº‹ä»¶ç»‘å®š ----------- */
yesBtn.onclick = () => location.href = "yes.html";

noBtn.onclick  = () => {
  clickCnt++;

  /* --- ç»ˆå±€ï¼šç¬¬ 30 æ¬¡ç‚¹å‡» --- */
  if (clickCnt >= MAX_CLICK) {
    // æŒ‰é’®æ·¡å‡º + å®¹å™¨è¿‡æ¸¡å±…ä¸­
    noBtn.classList.add("fading-out");
    buttons.classList.add("centered");
    question.innerText = "ä¸å¬è¯å–”ï¼Œç­”ä¸ç­”åº”å¯ä¸æ˜¯æ‚¦æ‚¦è¯´äº†ç®—çš„ï¼";
    mainImg.src = finalImg;

    // æ¸éšå®Œæˆåå½»åº•ç§»é™¤æŒ‰é’®ï¼Œé˜²æ­¢å ä½
    setTimeout(() => {
      noBtn.remove();
    }, 700); // ä¸ CSS transition æ—¶é—´ä¿æŒä¸€è‡´
    return;                                // åœæ­¢åç»­æ”¾ç¼©/è½®æ¢
  }

  /* --- 1. â€œå¯ä»¥â€æŒ‰é’®æ”¾å¤§ --- */
  yesScale += 0.3;
  yesBtn.style.width    = (orig.w * yesScale) + "px";
  yesBtn.style.height   = (orig.h * yesScale) + "px";
  yesBtn.style.fontSize = (orig.font * yesScale) + "px";

  /* --- 2. â€œä¸å¯ä»¥â€æŒ‰é’®æœ€å¤šç¼©å° 4 æ¬¡ --- */
  if (shrinkCnt < MAX_SHRINK) {
    noScale *= 0.9;
    noBtn.style.width    = (orig.w * noScale) + "px";
    noBtn.style.height   = (orig.h * noScale) + "px";
    noBtn.style.fontSize = (orig.font * noScale) + "px";
    shrinkCnt++;
  }

  /* --- 3. è½®æ¢å›¾ç‰‡ & æ–‡å­— --- */
  const textIdx = clickCnt % rotatingTexts.length;
  const imgIdx  = clickCnt % rotatingImgs.length; // é¡ºåºè½®æ¢ï¼Œéšæœºæ”¹ Math.random()

  question.innerText = rotatingTexts[textIdx];
  mainImg.src        = rotatingImgs[imgIdx];
};
</script>
</body>
</html>
